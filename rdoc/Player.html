<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Player - RDoc Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Sprite.html">Sprite</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-exit_grid">#exit_grid</a>
    
    <li ><a href="#method-i-spawn">#spawn</a>
    
    <li ><a href="#method-i-walk">#walk</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Player">
  <h1 id="class-Player" class="class">
    class Player
  </h1>

  <section class="description">
    
<p>This method generates the player character, and has methods for their
movement.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-hit_points" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">hit_points</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-inventory" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">inventory</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-level" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">level</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">name</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Establishes values for the player’s symbol, name, race, inventory, HP,
position, and other common fantasy RPG elements.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File Rogue-Gem.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span> 
        <span class="ruby-ivar">@floor</span> = <span class="ruby-string">&quot;.&quot;</span>
        <span class="ruby-ivar">@name</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-ivar">@symbol</span> = <span class="ruby-string">&quot;&quot;</span> 
        <span class="ruby-ivar">@race</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-ivar">@inventory</span> = [] 
        <span class="ruby-ivar">@hit_points</span> = <span class="ruby-value">0</span> 
        <span class="ruby-ivar">@position</span> = <span class="ruby-string">&quot;&quot;</span> 
        <span class="ruby-ivar">@level</span> = <span class="ruby-value">1</span> 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-exit_grid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exit_grid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method controls the player’s movement to another map, and calls the
generation of the new map.</p>
          
          

          
          <div class="method-source-code" id="exit_grid-source">
            <pre><span class="ruby-comment"># File Rogue-Gem.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exit_grid</span> 
        <span class="ruby-identifier">@@message_box</span>[<span class="ruby-value">0</span>] = <span class="ruby-string">&quot;Are you sure you want to leave this area? [Y]es/[N]o&quot;</span> <span class="ruby-comment">#FIXME #FIXME</span>
        <span class="ruby-identifier">@@message_box</span>[<span class="ruby-value">1</span>] = <span class="ruby-string">&quot;\n&quot;</span>
        <span class="ruby-comment">#--</span>
        <span class="ruby-comment">#So newest messages are at beginning </span>
        <span class="ruby-comment">#show grid with new messages</span>
        <span class="ruby-comment">#++</span>
        <span class="ruby-identifier">output</span>
        <span class="ruby-identifier">@@message_box</span>[<span class="ruby-value">0</span>] = <span class="ruby-string">&quot;Message Here!&quot;</span> 
        <span class="ruby-identifier">@@message_box</span>[<span class="ruby-value">1</span>] = <span class="ruby-string">&quot;Message Here! &quot;</span>
        <span class="ruby-keyword">if</span> <span class="ruby-constant">Win32API</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;crtdll&quot;</span>, <span class="ruby-string">&quot;_getch&quot;</span>, [], <span class="ruby-string">&quot;L&quot;</span>).<span class="ruby-constant">Call</span>.<span class="ruby-identifier">chr</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'y'</span>  <span class="ruby-comment">#If they decide to exit</span>
                <span class="ruby-ivar">@floor</span> = <span class="ruby-node">&quot;#{rand(33..63).chr}&quot;</span>
                <span class="ruby-identifier">re_init</span>(<span class="ruby-ivar">@floor</span>) <span class="ruby-comment">#change floor tile</span>
                <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@floor}&quot;</span>) 
                <span class="ruby-identifier">fly</span>((<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">-</span> <span class="ruby-value">5</span>).<span class="ruby-identifier">abs</span>, (<span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">-</span> <span class="ruby-value">15</span>).<span class="ruby-identifier">abs</span>, <span class="ruby-node">&quot;#{@symbol}&quot;</span>)   
        <span class="ruby-keyword">end</span> 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-spawn" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">spawn</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Introduction for new character, can be changed to fit other games.</p>
          
          

          
          <div class="method-source-code" id="spawn-source">
            <pre><span class="ruby-comment"># File Rogue-Gem.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">spawn</span> 
        <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Greetings, adventurer! What is your name?&quot;</span> 
        <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">gets</span>.<span class="ruby-identifier">chomp</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;What race will you be? [E]lven [H]uman [D]warven&quot;</span>
        <span class="ruby-keyword">case</span> <span class="ruby-identifier">gets</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">downcase</span> 
                <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;d&quot;</span> 
                        <span class="ruby-ivar">@race</span> = <span class="ruby-string">&quot;Dwarf&quot;</span> 
                        <span class="ruby-ivar">@inventory</span> = [<span class="ruby-string">&quot;Axe&quot;</span>, <span class="ruby-string">&quot;Plate Armor&quot;</span>]
                        <span class="ruby-ivar">@hit_points</span> = <span class="ruby-value">14</span>
                        <span class="ruby-ivar">@symbol</span> = <span class="ruby-string">&quot;@&quot;</span>
                <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;h&quot;</span> 
                        <span class="ruby-ivar">@race</span> = <span class="ruby-string">&quot;Human&quot;</span>
                        <span class="ruby-ivar">@inventory</span> = [<span class="ruby-string">&quot;Mace&quot;</span>, <span class="ruby-string">&quot;Chainmail&quot;</span>]
                        <span class="ruby-ivar">@hit_points</span> = <span class="ruby-value">12</span> 
                        <span class="ruby-ivar">@symbol</span> = <span class="ruby-string">&quot;@&quot;</span>
                <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;e&quot;</span> 
                        <span class="ruby-ivar">@race</span> = <span class="ruby-string">&quot;Elf&quot;</span> 
                        <span class="ruby-ivar">@inventory</span> = [<span class="ruby-string">&quot;Sword&quot;</span>, <span class="ruby-string">&quot;Scale Armor&quot;</span>]
                        <span class="ruby-ivar">@hit_points</span> = <span class="ruby-value">10</span> 
                        <span class="ruby-ivar">@symbol</span> = <span class="ruby-string">&quot;@&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">fly</span>(<span class="ruby-value">5</span>, <span class="ruby-value">5</span>, <span class="ruby-ivar">@symbol</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-walk" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">walk</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method allows the user to move the player by only pressing the WASD
keys. If it detects the player is at the edge of the map, an exit sequence
is called.</p>
          
          

          
          <div class="method-source-code" id="walk-source">
            <pre><span class="ruby-comment"># File Rogue-Gem.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">walk</span>  
        <span class="ruby-keyword">case</span> <span class="ruby-constant">Win32API</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;crtdll&quot;</span>, <span class="ruby-string">&quot;_getch&quot;</span>, [], <span class="ruby-string">&quot;L&quot;</span>).<span class="ruby-constant">Call</span>.<span class="ruby-identifier">chr</span>.<span class="ruby-identifier">downcase</span>
        <span class="ruby-keyword">when</span> <span class="ruby-string">'~'</span> <span class="ruby-comment">#~ is exit key</span>
                <span class="ruby-identifier">exit</span> 
        <span class="ruby-keyword">when</span> <span class="ruby-string">'w'</span>              
                <span class="ruby-keyword">if</span> <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
                        <span class="ruby-identifier">exit_grid</span>   
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@floor}&quot;</span>)                                                                        
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-node">&quot;#{@symbol}&quot;</span>)
                <span class="ruby-keyword">end</span> 
        <span class="ruby-keyword">when</span> <span class="ruby-string">'s'</span>      
                <span class="ruby-keyword">if</span> <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">17</span>        
                        <span class="ruby-identifier">exit_grid</span>                                                                   
                <span class="ruby-keyword">else</span> 
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@floor}&quot;</span>)
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-node">&quot;#{@symbol}&quot;</span>)
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">when</span> <span class="ruby-string">'a'</span>      
            <span class="ruby-keyword">if</span> <span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
                        <span class="ruby-identifier">exit_grid</span>
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@floor}&quot;</span>) 
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@symbol}&quot;</span>)
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">when</span> <span class="ruby-string">'d'</span>      
                <span class="ruby-keyword">if</span> <span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">79</span>        
                        <span class="ruby-identifier">exit_grid</span>   
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>], <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@floor}&quot;</span>)
                        <span class="ruby-identifier">fly</span>(<span class="ruby-ivar">@position</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@position</span>[<span class="ruby-value">1</span>], <span class="ruby-node">&quot;#{@symbol}&quot;</span>)   
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

